---
# Protocol used to serve
protocol: "http"

# Server listening port
port: 8080

# Worker pool
worker_pool:
  # Worker concurrency
  workers: 10
  backend: "redis"
  # Additional config if use 'redis' backend
  redis_pool:
    # redis://[arbitrary_username:password@]ipaddress:port/database_index
    redis_url: redis://redis:6379/2?idle_timeout_seconds=30
    namespace: "harbor_job_service_namespace"
    idle_timeout_second: 3600

# Loggers for the running job
job_loggers:
  - name: "FILE"
    level: "INFO"
    settings:
      base_dir: "/var/log/jobs"
      rotate_count: 50
      rotate_size: 200M
      compress: true

# Loggers for the job service
loggers:
  - name: "STD_OUTPUT"
    level: "INFO"

reaper:
  # The max time to wait for a task to finish, if unfinished after max_update_hours,
  # the task will be marked as error, but will continue to run.
  max_update_hours: 24
  # The max time for execution in running state without new task created
  max_dangling_hours: 168

# The max size of job log returned by API, default is 10M
max_retrieve_size_mb: 10
